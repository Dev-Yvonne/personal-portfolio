<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kiriri Women's University of Science and Technology - Timetable Management System</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-calendar-alt"></i> KWUST Timetable
            </div>
            <ul class="nav-menu">
                <li><a href="#" data-tab="dashboard" class="nav-link active">Dashboard</a></li>
                <li><a href="#" data-tab="courses" class="nav-link">Courses</a></li>
                <li><a href="#" data-tab="instructors" class="nav-link">Instructors</a></li>
                <li><a href="#" data-tab="rooms" class="nav-link">Rooms</a></li>
                <li><a href="#" data-tab="timetable" class="nav-link">Timetable</a></li>
                <li><a href="#" data-tab="view" class="nav-link">View Schedule</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="dashboard-header">
                <h1>Welcome to University Timetable System</h1>
                <p>Manage courses, instructors, rooms, and generate conflict-free timetables</p>
            </div>

            <!-- Marquee Section -->
            <div class="marquee-container">
                <div class="marquee-content">
                    <span>ðŸ“¢ Kiriri Women's University of Science and Technology â€¢ Spring Semester 2026 Schedule Now Available â€¢ Register Your Courses Today â€¢ Check Latest Updates Below ðŸ“¢</span>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <h3 id="courseCount">0</h3>
                    <p>Total Courses</p>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-chalkboard-user"></i>
                    </div>
                    <h3 id="instructorCount">0</h3>
                    <p>Instructors</p>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-door-open"></i>
                    </div>
                    <h3 id="roomCount">0</h3>
                    <p>Classrooms</p>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h3 id="scheduleCount">0</h3>
                    <p>Scheduled Classes</p>
                </div>
            </div>

            <div class="quick-actions">
                <h2>Quick Actions</h2>
                <div class="action-buttons">
                    <button class="action-btn" onclick="switchTab('courses')">
                        <i class="fas fa-plus"></i> Add Course
                    </button>
                    <button class="action-btn" onclick="switchTab('instructors')">
                        <i class="fas fa-user-plus"></i> Add Instructor
                    </button>
                    <button class="action-btn" onclick="switchTab('rooms')">
                        <i class="fas fa-plus"></i> Add Room
                    </button>
                    <button class="action-btn" onclick="switchTab('timetable')">
                        <i class="fas fa-calendar"></i> Create Schedule
                    </button>
                </div>
            </div>
        </div>

        <!-- Courses Tab -->
        <div id="courses" class="tab-content">
            <div class="section-header">
                <h1>Manage Courses</h1>
                <button class="btn btn-primary" onclick="openAddCourseModal()">
                    <i class="fas fa-plus"></i> Add New Course
                </button>
            </div>

            <div class="form-section">
                <h3>Add Course</h3>
                <form id="courseForm">
                    <div class="form-group">
                        <label>Course Code:</label>
                        <input type="text" id="courseCode" placeholder="e.g., CS101" required>
                    </div>
                    <div class="form-group">
                        <label>Course Name:</label>
                        <input type="text" id="courseName" placeholder="e.g., Introduction to Programming" required>
                    </div>
                    <div class="form-group">
                        <label>Department:</label>
                        <input type="text" id="courseDept" placeholder="e.g., Computer Science" required>
                    </div>
                    <div class="form-group">
                        <label>Duration:</label>
                        <input type="number" id="courseDuration" value="1" min="0.5" max="4" step="0.5" required>
                        <small style="color: #666; font-size: 0.85rem;">in hours</small>
                    </div>
                    <div class="form-group">
                        <label>Classes per Week:</label>
                        <input type="number" id="courseFrequency" value="2" min="1" max="7" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Add Course</button>
                </form>
            </div>

            <div class="list-section">
                <h3>Courses List</h3>
                <table id="coursesList" class="table">
                    <thead>
                        <tr>
                            <th>Code</th>
                            <th>Name</th>
                            <th>Department</th>
                            <th>Duration</th>
                            <th>Classes/Week</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="coursesBody">
                        <tr><td colspan="6">No courses added yet</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Instructors Tab -->
        <div id="instructors" class="tab-content">
            <div class="section-header">
                <h1>Manage Instructors</h1>
                <button class="btn btn-primary" onclick="openAddInstructorModal()">
                    <i class="fas fa-plus"></i> Add New Instructor
                </button>
            </div>

            <div class="form-section">
                <h3>Add Instructor</h3>
                <form id="instructorForm">
                    <div class="form-group">
                        <label>Instructor ID:</label>
                        <input type="text" id="instructorId" placeholder="e.g., INS001" required>
                    </div>
                    <div class="form-group">
                        <label>Full Name:</label>
                        <input type="text" id="instructorName" placeholder="e.g., Dr. John Smith" required>
                    </div>
                    <div class="form-group">
                        <label>Department:</label>
                        <input type="text" id="instructorDept" placeholder="e.g., Computer Science" required>
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" id="instructorEmail" placeholder="e.g., john@university.edu" required>
                    </div>
                    <div class="form-group">
                        <label>Max Classes per Week:</label>
                        <input type="number" id="instructorMaxClasses" value="4" min="1" max="10" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Add Instructor</button>
                </form>
            </div>

            <div class="list-section">
                <h3>Instructors List</h3>
                <table id="instructorsList" class="table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Department</th>
                            <th>Email</th>
                            <th>Max Classes</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="instructorsBody">
                        <tr><td colspan="6">No instructors added yet</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Rooms Tab -->
        <div id="rooms" class="tab-content">
            <div class="section-header">
                <h1>Manage Classrooms</h1>
                <button class="btn btn-primary" onclick="openAddRoomModal()">
                    <i class="fas fa-plus"></i> Add New Room
                </button>
            </div>

            <div class="form-section">
                <h3>Add Classroom</h3>
                <form id="roomForm">
                    <div class="form-group">
                        <label>Room Number:</label>
                        <input type="text" id="roomNumber" placeholder="e.g., A101" required>
                    </div>
                    <div class="form-group">
                        <label>Building:</label>
                        <input type="text" id="roomBuilding" placeholder="e.g., Science Building" required>
                    </div>
                    <div class="form-group">
                        <label>Capacity:</label>
                        <input type="number" id="roomCapacity" min="20" max="500" required>
                    </div>
                    <div class="form-group">
                        <label>Equipment:</label>
                        <input type="text" id="roomEquipment" placeholder="e.g., Projector, AC, WiFi">
                    </div>
                    <button type="submit" class="btn btn-primary">Add Room</button>
                </form>
            </div>

            <div class="list-section">
                <h3>Classrooms List</h3>
                <table id="roomsList" class="table">
                    <thead>
                        <tr>
                            <th>Room Number</th>
                            <th>Building</th>
                            <th>Capacity</th>
                            <th>Equipment</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="roomsBody">
                        <tr><td colspan="5">No rooms added yet</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Timetable Tab -->
        <div id="timetable" class="tab-content">
            <div class="section-header">
                <h1>Create Timetable</h1>
                <button class="btn btn-success" onclick="generateTimetable()">
                    <i class="fas fa-magic"></i> Auto-Generate Timetable
                </button>
            </div>

            <div class="form-section">
                <h3>Manual Schedule Entry</h3>
                <form id="scheduleForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Select Course:</label>
                            <select id="scheduleCourseName" required>
                                <option value="">Select a course...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Select Instructor:</label>
                            <select id="scheduleInstructor" required>
                                <option value="">Select an instructor...</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Select Room:</label>
                            <select id="scheduleRoom" required>
                                <option value="">Select a room...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Day of Week:</label>
                            <select id="scheduleDay" required>
                                <option value="">Select a day...</option>
                                <option value="Monday">Monday</option>
                                <option value="Tuesday">Tuesday</option>
                                <option value="Wednesday">Wednesday</option>
                                <option value="Thursday">Thursday</option>
                                <option value="Friday">Friday</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Start Time:</label>
                            <input type="time" id="scheduleStartTime" required>
                        </div>
                        <div class="form-group">
                            <label>End Time:</label>
                            <input type="time" id="scheduleEndTime" required>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Schedule Class</button>
                </form>
            </div>

            <div class="list-section">
                <h3>Scheduled Classes</h3>
                <table id="scheduleList" class="table">
                    <thead>
                        <tr>
                            <th>Course</th>
                            <th>Instructor</th>
                            <th>Room</th>
                            <th>Day</th>
                            <th>Time</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="scheduleBody">
                        <tr><td colspan="6">No classes scheduled yet</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- View Schedule Tab -->
        <div id="view" class="tab-content">
            <div class="section-header">
                <h1>View Timetable</h1>
            </div>

            <div class="view-options">
                <button class="btn btn-secondary active" onclick="displayWeeklyView()">
                    <i class="fas fa-calendar-week"></i> Weekly View
                </button>
                <button class="btn btn-secondary" onclick="displayDayView()">
                    <i class="fas fa-calendar-day"></i> Day View
                </button>
                <button class="btn btn-secondary" onclick="displayInstructorView()">
                    <i class="fas fa-chalkboard-user"></i> By Instructor
                </button>
                <button class="btn btn-secondary" onclick="displayRoomView()">
                    <i class="fas fa-door-open"></i> By Room
                </button>
            </div>

            <div id="viewContainer" class="view-container">
                <div id="weeklyView" class="view-content active"></div>
                <div id="dayView" class="view-content hidden"></div>
                <div id="instructorView" class="view-content hidden"></div>
                <div id="roomView" class="view-content hidden"></div>
            </div>

            <div class="export-section">
                <button class="btn btn-success" onclick="exportTimetable()">
                    <i class="fas fa-download"></i> Export as PDF
                </button>
                <button class="btn btn-info" onclick="printTimetable()">
                    <i class="fas fa-print"></i> Print Timetable
                </button>
            </div>
        </div>
    </div>

    <!-- Conflict Modal -->
    <div id="conflictModal" class="modal hidden">
        <div class="modal-content">
            <span class="close" onclick="closeConflictModal()">&times;</span>
            <h2>Scheduling Conflicts Detected</h2>
            <div id="conflictList"></div>
            <p style="margin-top: 20px; font-size: 0.9rem; color: #666;">
                Please resolve these conflicts before saving the schedule.
            </p>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal hidden">
        <div class="modal-content">
            <span class="close" onclick="closeSuccessModal()">&times;</span>
            <h2>âœ“ Success!</h2>
            <p id="successMessage"></p>
            <button class="btn btn-primary" onclick="closeSuccessModal()">OK</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
